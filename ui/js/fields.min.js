"undefined"==typeof window.fakerpress&&(window.fakerpress={}),window.fakerpress.fields={},window.fakerpress.ready_class="fp-js-ready",window.fakerpress.plugin="fakerpress",window.fakerpress.abbr="fp",window.fakerpress.fieldName=function(a){return a=a.map(function(a){return new String(a)}),this.plugin+"["+a.join("][")+"]"},window.fakerpress.fieldId=function(a){return this.plugin+"-field-"+a.join("-")},window.fakerpress.searchId=function(a){var b=null;return"undefined"!=typeof a.id?b=a.id:"undefined"!=typeof a.ID?b=a.ID:"undefined"!=typeof a.value&&(b=a.value),void 0==a?null:b},window.fakerpress.fields.dates=function(a){"use strict";var b={after:["attr"],constrainInput:!1,dateFormat:"yy-mm-dd"};a(".fp-type-date").not(".hasDatepicker").datepicker(b),a(".fp-type-interval-wrap").each(function(){var b=a(this),c=b.find(".fp-type-dropdown"),d=b.find('[data-type="min"]'),e=b.find('[data-type="max"]');b.hasClass(window.fakerpress.ready_class)||(b.addClass(window.fakerpress.ready_class),d.on({change:function(){d.parents(".fp-field-wrap").find('[data-type="max"]').datepicker("option","minDate",a(this).val()).datepicker("refresh"),a(".fp-type-date.hasDatepicker").datepicker("refresh")}}),e.on({change:function(){e.parents(".fp-field-wrap").find('[data-type="min"]').datepicker("option","maxDate",a(this).val()).datepicker("refresh"),a(".fp-type-date.hasDatepicker").datepicker("refresh")}}),c.on({change:function(){var a=c.find(":selected"),b=a.attr("min"),f=a.attr("max");d.datepicker("setDate",b),e.datepicker("setDate",f)}}).trigger("change"))})},window.fakerpress.fields.dropdown=function(a,b){"use strict";var c=a(".fp-type-dropdown").not(".select2-offscreen, .select2-container"),d={wp_query_title:[]};d.wp_query_title.push("ID: &quot;<%= ID %>&quot;"),d.wp_query_title.push("Title: &quot;<%= post_title %>&quot;"),d.wp_query_title.push("Post Type: &quot;<%= post_type.labels.singular_name %>&quot;"),d.wp_query_title.push("Author: &quot;<%= post_author %>&quot;"),c.each(function(){var c=a(this),e={width:420};if(c.is("[multiple]")?(e.multiple=!0,c.is("[data-tags]")||(e.data=function(){return{results:c.data("options")}}),e.tokenSeparators=b.isArray(c.data("separator"))?c.data("separator"):[c.data("separator")],e.separator=c.data("separator"),e.regexSeparatorElements=["^("],e.regexSplitElements=["(?:"],a.each(e.tokenSeparators,function(a,b){e.regexSeparatorElements.push("[^"+b+"]+"),e.regexSplitElements.push("["+b+"]")}),e.regexSeparatorElements.push(")$"),e.regexSplitElements.push(")"),e.regexSeparatorString=e.regexSeparatorElements.join(""),e.regexSplitString=e.regexSplitElements.join(""),e.regexToken=new RegExp(e.regexSeparatorString,"ig"),e.regexSplit=new RegExp(e.regexSplitString,"ig"),e.id=window.fakerpress.searchId):e.width=200,e.matcher=function(a,c){var d=0==c.toUpperCase().indexOf(a.toUpperCase());if(!d&&"undefined"!=typeof e.tags){var f=b.where(e.tags,{text:c});if(e.tags.length>0&&b.isObject(f)){var g=window.fakerpress.searchId(f[0]);d=0==g.toUpperCase().indexOf(a.toUpperCase())}}return d},c.is("[data-tags]")&&(e.tags=c.data("options"),e.initSelection=function(c,d){var f=[];a(c.val().split(e.regexSplit)).each(function(){var a={id:this,text:this};if(e.tags.length>0&&b.isObject(e.tags[0])){var c=b.where(e.tags,{value:this});c.length>0&&(a=c[0],a={id:a.value,text:a.text})}f.push(a)}),d(f)},e.createSearchChoice=function(a){return a.match(e.regexToken)?{id:a,text:a}:void 0},0===e.tags.length&&(e.formatNoMatches=function(){return c.attr("placeholder")})),c.is("[data-source]")){var f=c.data("source");e.data={results:[]},e.allowClear=!0,e.escapeMarkup=function(a){return a},e.ajax={dataType:"json",type:"POST",url:window.ajaxurl,results:function(b){return a.each(b.results,function(a,b){b.id=b.ID}),b}},"WP_Query"===f?(e.formatSelection=function(a){return b.template('<abbr title="'+d.wp_query_title.join("&#13;&#10;")+'"><%= post_type.labels.singular_name %>: <%= ID %>')(a)},e.formatResult=function(a){return b.template('<abbr title="'+d.wp_query_title.join("&#13;&#10;")+'"><%= post_type.labels.singular_name %>: <%= ID %> <b>[</b> <em><%= post_title %></em> <b>]</b></abbr>')(a)},e.ajax.data=function(c,d){var e=b.intersection(a("#fakerpress-field-post_types").val().split(","),b.pluck(b.where(a("#fakerpress-field-post_types").data("options"),{hierarchical:!0}),"id"));return{action:"fakerpress.select2-"+f,query:{s:c,posts_per_page:10,paged:d,post_type:e}}}):(e.ajax.data=function(b,d){var e=c.parents(".fp-table-taxonomy").eq(0);return{action:"fakerpress.select2-"+f,search:b,page:d,page_limit:25,taxonomies:e.find(".fp-taxonomies").select2("val"),exclude:a(this).select2("val")}},e.formatSelection=function(a){return b.template("<%= taxonomy %>: <%= name %>")(a)},e.formatResult=function(a){return b.template("<%= taxonomy %>: <%= name %>")(a)})}c.select2(e)}).on("change",function(c){var d=a(this),e=a(this).data("value");d.is("[multiple]")&&d.is("[data-source]")&&(c.added?b.isArray(e)?e.push(c.added):e=[c.added]:e=b.isArray(e)?b.without(e,c.removed):[],d.data("value",e).attr("data-value",JSON.stringify(e)))})},window.fakerpress.fields.range=function(a){"use strict";a(".fp-type-range-wrap").each(function(){var b=a(this),c=b.find('.fp-type-number[data-type="min"]'),d=b.find('.fp-type-number[data-type="max"]');b.hasClass(window.fakerpress.ready_class)||(b.addClass(window.fakerpress.ready_class),c.on({"change keyup":function(){var b=parseInt(c.val(),10),e=parseInt(d.val(),10);a.isNumeric(b)?(d.prop("disabled",!1),e&&a.isNumeric(e)&&b>e&&c.val(e)):(d.prop("disabled",!0),c.val(""))}}).trigger("change"),d.on({"change keyup":function(){var b=parseInt(c.val(),10),e=parseInt(d.val(),10);a.isNumeric(e)&&b>e&&c.val(e)}}).trigger("change"))})},function(a){a(document).ready(function(){a.each(window.fakerpress.fields,function(a,b){b(window.jQuery,window._)})})}(jQuery),function(a,b){"use strict";window.fakerpress.fieldset={items:[{name:"meta",$:{},selector:{container:".fp-type-meta-container",item:".fp-table-meta",type_container:".fp-meta_type-container",type:".fp-meta_type",name_container:".fp-meta_name-container",name:".fp-meta_name",conf_container:".fp-meta_conf-container"},update:function(a){this.render(a)},render:function(b){{var c,d,e=this,f=b.find(e.selector.type),g=f.select2("val"),h=b.find(e.selector.name),i=(h.val(),b.find(e.selector.name_container)),j=(b.find(e.selector.type_container),b.find(e.selector.conf_container)),k=j.find(window.fakerpress.fieldset.selector.wrap);j.data("config")}g instanceof jQuery&&(g=g.val()),c=a(".fp-template-"+g).filter('[data-rel="'+e.$.container.attr("id")+'"]').filter("[data-callable]"),d=c.html(),d&&g!==j.data("type")&&(j.data("type",g),k.empty().append(d),this.configure(j)),g?(i.removeClass("fp-last-child"),j.show()):(i.addClass("fp-last-child"),j.hide())},configure:function(c){var d=this,e=c.data("config"),f=c.find(window.fakerpress.fieldset.selector.field);f.each(function(){var c=a(this),f=c.parents(d.selector.item).eq(0),g=c.next(window.fakerpress.fieldset.selector.label),h=c.next(window.fakerpress.fieldset.selector.internal_label),i=c.data("name"),j=parseInt(f.find(window.fakerpress.fieldset.selector.order).val(),10)-1,k=i[j],l=c.data("name"),m=c.data("id"),n=[],i=[];0===g.length&&(g=c.parents(window.fakerpress.fieldset.selector.field_container).eq(0).find(window.fakerpress.fieldset.selector.label)),b.each(m,function(a){n.push(a),("meta"===a||"taxonomy"===a)&&n.push(j)}),b.each(l,function(a){i.push(a),("meta"===a||"taxonomy"===a)&&i.push(j)}),0!==n.length&&(c.attr("id",window.fakerpress.fieldId(n)),g.attr("for",window.fakerpress.fieldId(n)),h.attr("for",window.fakerpress.fieldId(n))),0!==i.length&&c.attr("name",window.fakerpress.fieldName(i)),"undefined"!=typeof e&&"undefined"!=typeof e[k]&&c.val(e[k])})},is_removeable:function(){if(1===this.$.items.length){var a=this.$.items.eq(0);return b.isEmpty(a.find(this.selector.type).select2("val"))?!0:!1}return!1},setup:function(){var b=this;b.$.container.on("change",b.selector.type,[],function(){var c=a(this);b.render(c),window.fakerpress.fieldset.update(b,!1)})},reset:function(){}},{name:"taxonomy",$:{},selector:{container:".fp-type-taxonomy-container",item:".fp-table-taxonomy",taxonomies_container:".fp-taxonomies-container",taxonomies:".fp-taxonomies",terms_container:".fp-terms-container",terms:".fp-terms",weight_container:".fp-weight-container",weight:".fp-weight"},update:function(){},is_removeable:function(){if(1===this.$.items.length){var a=this.$.items.eq(0);return b.isEmpty(a.find(this.selector.taxonomies).select2("val"))&&b.isEmpty(a.find(this.selector.terms).val())?!0:!1}return!1},setup:function(){},reset:function(){}}],selector:{wrap:".fp-field-wrap",duplicate:".fp-action-duplicate",remove:".fp-action-remove",order:".fp-action-order",label:".fp-field-label",internal_label:".fp-internal-label",field:".fp-field",field_container:".fp-field-container"},setup:function(b){var c=a("form").children(".form-table").children("tbody");b.$={},b.$.container=c.children(b.selector.container),b.$.wrap=b.$.container.children(window.fakerpress.fieldset.selector.wrap),b.$.container.on("click",this.selector.duplicate,[],function(){var c=a(this),d=c.parents(b.selector.item),e=d.clone();e.find(".fp-type-date").removeClass("hasDatepicker").end().find(".fp-type-dropdown").removeClass("select2-offscreen").filter(".select2-container").remove(),window.fakerpress.fieldset.reset(b,e),b.$.wrap.append(e),window.fakerpress.fieldset.update(b)}),b.$.container.on("click",this.selector.remove,[],function(){var c=a(this),d=c.parents(b.selector.item);1===b.$.items.length?window.fakerpress.fieldset.reset(b,b.$.items.eq(0)):d.remove(),window.fakerpress.fieldset.update(b)}),b.setup(),this.update(b,!1)},reset:function(b,c){var d=c.find("tbody").find(window.fakerpress.fieldset.selector.field);d.each(function(){var b=a(this);b.val(""),b.hasClass("select2-offscreen")&&b.select2("val","")}),b.reset(c)},update:function(c){c.$.items=c.$.wrap.children(c.selector.item),c.is_removeable()?c.$.items.eq(0).find(window.fakerpress.fieldset.selector.remove).prop("disabled",!0).end().find(c.selector.name).prop("required",!1):c.$.items.find(window.fakerpress.fieldset.selector.remove).prop("disabled",!1).end().find(c.selector.name).prop("required",!0),c.$.items.each(function(d){var e=a(this),f=e.find(window.fakerpress.fieldset.selector.order),g=e.find(window.fakerpress.fieldset.selector.field);f.val(d+1),g.filter("input, textarea, select").each(function(){var c=a(this),e=c.next(window.fakerpress.fieldset.selector.label),f=c.next(window.fakerpress.fieldset.selector.internal_label),g=c.data("name"),h=c.data("id"),i=[],j=[];0===e.length&&(e=c.parents(window.fakerpress.fieldset.selector.field_container).eq(0).find(window.fakerpress.fieldset.selector.label)),b.each(h,function(a){i.push(a),("meta"===a||"taxonomy"===a)&&i.push(d)}),b.each(g,function(a){j.push(a),("meta"===a||"taxonomy"===a)&&j.push(d)}),0!==i.length&&(c.attr("id",window.fakerpress.fieldId(i)),e.attr("for",window.fakerpress.fieldId(i)),f.attr("for",window.fakerpress.fieldId(i))),0!==j.length&&c.attr("name",window.fakerpress.fieldName(j))}),c.update(e)}),a.each(window.fakerpress.fields,function(a,b){b(window.jQuery,window._)})}},a(document).ready(function(){a.each(window.fakerpress.fieldset.items,function(a,b){window.fakerpress.fieldset.setup(b),b.$.container.each(function(){window.fakerpress.fieldset.update(b)})})})}(window.jQuery,window._);